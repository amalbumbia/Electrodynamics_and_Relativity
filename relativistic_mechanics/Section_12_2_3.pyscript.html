<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Interactive Notebook (PyScript)</title>
  <script defer src="https://pyscript.net/latest/pyscript.js"></script>
  <style>
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; margin: 2rem; line-height: 1.5; }
    h1 { font-size: 1.6rem; margin-bottom: 1rem; }
    .cell { border: 1px solid #ddd; border-radius: 12px; padding: 0; margin: 1rem 0; overflow: hidden; box-shadow: 0 1px 4px rgba(0,0,0,0.06); }
    .cell header { background: #f7f7f9; padding: .5rem .75rem; font-weight: 600; }
    .cell .content { padding: .75rem; }
    py-repl { --ui-font-size: 14px; width: 100%; }
    .note { color: #555; font-size: .95rem; }
    .topbar { display:flex; align-items:center; gap:.5rem; flex-wrap:wrap; }
    .badge { background:#eef; color:#224; padding:.25rem .5rem; border-radius:.5rem; font-size:.85rem; }
  </style>
  <py-config>
    packages = ["numpy", "matplotlib", "scipy", "sympy"]
  </py-config>
</head>
<body>
  <div class="topbar">
    <h1>Interactive Notebook (clientâ€‘side Python)</h1>
    <span class="badge">PyScript</span>
    <p class="note">All code runs in your browser via Pyodide. State persists across cells in this session.</p>
  </div>

  <section class="cell">
    <header>Code cell 1</header>
    <div class="content">
      <py-repl>
# If you would like to figure out how to download pythia8, go ahead (it&#x27;s really fun to experiment with). 
# It can sometimes be painful to install, but maybe I&#x27;m just being dramatic since it&#x27;s not a simple pip install.

# import pythia8
# import numpy as np
# import matplotlib.pyplot as plt

# pythia = pythia8.Pythia()
# pythia.readString(&quot;Beams:idA = 2212&quot;)  # proton ID
# pythia.readString(&quot;Beams:idB = 2212&quot;)
# pythia.readString(&quot;Beams:eCM = 10.&quot;)   # Low energy, soft QCD
# pythia.readString(&quot;SoftQCD:nonDiffractive = on&quot;)
# pythia.init()

# n_events = 100000
# masses = []

# for i in range(n_events):
#     if not pythia.next(): continue

#     # Collect all pi+ and pi- in the final state
#     piplus = []
#     piminus = []
#     for i in range(pythia.event.size()):
#         p = pythia.event[i]
#         if not p.isFinal(): continue
#         if p.id() == 211: piplus.append(p)
#         if p.id() == -211: piminus.append(p)

#     # Form all pi+ pi- pairs and compute invariant mass
#     for pi_p in piplus:
#         for pi_m in piminus:
#             e = pi_p.e() + pi_m.e()
#             px = pi_p.px() + pi_m.px()
#             py = pi_p.py() + pi_m.py()
#             pz = pi_p.pz() + pi_m.pz()
#             m2 = e**2 - (px**2 + py**2 + pz**2)
#             if m2 &gt; 0:
#                 masses.append(np.sqrt(m2))

# pythia.stat()

# plt.hist(masses, bins=200, range=(0, 1.5), histtype=&#x27;step&#x27;, color=&#x27;blue&#x27;)
# plt.title(r&quot;Invariant mass of $\pi^+\pi^-$ pairs&quot;)
# plt.xlabel(r&quot;$m_{\pi^+\pi^-}$ [GeV]&quot;)
# plt.ylabel(&quot;Counts&quot;)
# plt.axvspan(0.4, 0.6, color=&#x27;red&#x27;, alpha=0.2, label=r&#x27;$\sigma$ region&#x27;)
# plt.legend()
# plt.grid(True)
# plt.tight_layout()
# plt.savefig(&quot;pipi_invariant_mass.pdf&quot;)
# print(&quot;Plot saved as pipi_invariant_mass.pdf&quot;)
      </py-repl>
    </div>
  </section>

  <p class="note">Tip: Add extra packages to &lt;py-config&gt; above then reload.</p>
</body>
</html>
